"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{6154:function(e,t,n){n.r(t),n.d(t,{Canvas:function(){return C},ReactThreeFiber:function(){return u.t},_roots:function(){return u.z},act:function(){return u.x},addAfterEffect:function(){return u.p},addEffect:function(){return u.o},addTail:function(){return u.q},advance:function(){return u.n},applyProps:function(){return u.k},buildGraph:function(){return u.y},context:function(){return u.g},createEvents:function(){return u.f},createPointerEvents:function(){return u.c},createPortal:function(){return u.h},createRoot:function(){return u.b},dispose:function(){return u.l},events:function(){return u.c},extend:function(){return u.e},flushGlobalEffects:function(){return u.s},flushSync:function(){return u.v},getRootState:function(){return u.w},invalidate:function(){return u.m},reconciler:function(){return u.j},render:function(){return u.r},unmountComponentAtNode:function(){return u.d},useFrame:function(){return u.F},useGraph:function(){return u.G},useInstanceHandle:function(){return u.A},useLoader:function(){return u.H},useStore:function(){return u.C},useThree:function(){return u.D}});var o,i,u=n(5362),c=n(2265),l=n(6375);function g(e,t){let n;return(...o)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...o),t)}}let s=["x","y","top","bottom","left","right","width","height"],D=(e,t)=>s.every(n=>e[n]===t[n]);var a=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&__defNormalProp(e,n,t[n]);if(p)for(var n of p(t))w.call(t,n)&&__defNormalProp(e,n,t[n]);return e},__spreadProps=(e,t)=>f(e,d(t));function wrapContext(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(o=window.document)?void 0:o.createElement)||(null==(i=window.navigator)?void 0:i.product)==="ReactNative")?c.useLayoutEffect:c.useEffect;let m=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=m;return}return m.apply(this,arguments)};let y=wrapContext(c.createContext(null));let FiberProvider=class FiberProvider extends c.Component{render(){return c.createElement(y.Provider,{value:this._reactInternals},this.props.children)}};var x=n(7437);n(5505),n(1177),n(4362);let _=c.forwardRef(function({children:e,fallback:t,resize:n,style:o,gl:i,events:s=u.c,eventSource:a,eventPrefix:f,shadows:d,linear:p,flat:h,legacy:w,orthographic:m,frameloop:_,dpr:C,performance:z,raycaster:P,camera:j,scene:O,onPointerMissed:R,onCreated:L,...S},H){c.useMemo(()=>(0,u.e)(l),[]);let F=function(){let e=function(){let e=function(){let e=c.useContext(y);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=c.useId(),n=c.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=function traverseFiber(e,t,n){if(!e)return;if(!0===n(e))return e;let o=t?e.return:e.child;for(;o;){let e=traverseFiber(o,t,n);if(e)return e;o=t?null:o.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t]);return n}(),[t]=c.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){let e=void 0===n.type._context&&n.type.Provider===n.type,o=e?n.type:n.type._context;o&&o!==y&&!t.has(o)&&t.set(o,c.useContext(wrapContext(o)))}n=n.return}return t}();return c.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>o=>c.createElement(t,null,c.createElement(n.Provider,__spreadProps(__spreadValues({},o),{value:e.get(n)}))),e=>c.createElement(FiberProvider,__spreadValues({},e))),[e])}(),[k,M]=function({debounce:e,scroll:t,polyfill:n,offsetSize:o}={debounce:0,scroll:!1,offsetSize:!1}){var i;let u=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!u)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[l,s]=(0,c.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=(0,c.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l,orientationHandler:null}),f=e?"number"==typeof e?e:e.scroll:null,d=e?"number"==typeof e?e:e.resize:null,p=(0,c.useRef)(!1);(0,c.useEffect)(()=>(p.current=!0,()=>void(p.current=!1)));let[h,w,m]=(0,c.useMemo)(()=>{let r=()=>{if(!a.current.element)return;let{left:e,top:t,width:n,height:i,bottom:u,right:c,x:l,y:f}=a.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:i,bottom:u,right:c,x:l,y:f};a.current.element instanceof HTMLElement&&o&&(d.height=a.current.element.offsetHeight,d.width=a.current.element.offsetWidth),Object.freeze(d),p.current&&!D(a.current.lastBounds,d)&&s(a.current.lastBounds=d)};return[r,d?g(r,d):r,f?g(r,f):r]},[s,o,f,d]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new u(m),a.current.resizeObserver.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}return i=!!t,(0,c.useEffect)(()=>{if(i)return window.addEventListener("scroll",m,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",m,!0)},[m,i]),(0,c.useEffect)(()=>(window.addEventListener("resize",w),()=>void window.removeEventListener("resize",w)),[w]),(0,c.useEffect)(()=>{v(),b()},[t,m,w]),(0,c.useEffect)(()=>v,[]),[e=>{e&&e!==a.current.element&&(v(),a.current.element=e,a.current.scrollContainers=function E(e){let t=[];if(!e||e===document.body)return t;let{overflow:n,overflowX:o,overflowY:i}=window.getComputedStyle(e);return[n,o,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...E(e.parentElement)]}(e),b())},l,h]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),N=c.useRef(null),T=c.useRef(null);c.useImperativeHandle(H,()=>N.current);let B=(0,u.u)(R),[I,A]=c.useState(!1),[G,V]=c.useState(!1);if(I)throw I;if(G)throw G;let W=c.useRef(null);(0,u.a)(()=>{let t=N.current;M.width>0&&M.height>0&&t&&(W.current||(W.current=(0,u.b)(t)),W.current.configure({gl:i,events:s,shadows:d,linear:p,flat:h,legacy:w,orthographic:m,frameloop:_,dpr:C,performance:z,raycaster:P,camera:j,scene:O,size:M,onPointerMissed:(...e)=>null==B.current?void 0:B.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(a?(0,u.i)(a)?a.current:a:T.current),f&&e.setEvents({compute:(e,t)=>{let n=e[f+"X"],o=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(o/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==L||L(e)}}),W.current.render((0,x.jsx)(F,{children:(0,x.jsx)(u.E,{set:V,children:(0,x.jsx)(c.Suspense,{fallback:(0,x.jsx)(u.B,{set:A}),children:e})})})))}),c.useEffect(()=>{let e=N.current;if(e)return()=>(0,u.d)(e)},[]);let X=a?"none":"auto";return(0,x.jsx)("div",{ref:T,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...o},...S,children:(0,x.jsx)("div",{ref:k,style:{width:"100%",height:"100%"},children:(0,x.jsx)("canvas",{ref:N,style:{display:"block"},children:t})})})}),C=c.forwardRef(function(e,t){return(0,x.jsx)(FiberProvider,{children:(0,x.jsx)(_,{...e,ref:t})})})}}]);